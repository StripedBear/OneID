# HumanDNS - Living Address Book

ğŸ”§ **Backend (FastAPI)**
```bash
cd backend
python3 -m venv venv
source venv/bin/activate   # Windows: venv\Scripts\activate

# Install dependencies including new image processing libraries
pip install -r requirements.txt

# Start server
uvicorn app.main:app --reload
```

âœ… Server will start on http://localhost:8000

ğŸ–¥ï¸ **Frontend (Next.js + TailwindCSS)**
```bash
cd frontend
npm install
npm run dev
```

âœ… Client will be available on http://localhost:3000

## ğŸ†• New Features

### Avatar Upload System
- **Secure file uploads** with comprehensive validation
- **Image processing** with Pillow (resize, optimize, format conversion)
- **Security measures**:
  - File type validation (JPEG, PNG, WebP only)
  - File size limits (5MB max)
  - MIME type verification
  - Image dimension validation
  - Secure filename generation
- **Drag & drop support** with preview
- **Automatic image optimization** and resizing

### Security Features
- **python-magic** for accurate MIME type detection
- **Pillow** for safe image processing
- **File extension and content validation**
- **Temporary file handling** with cleanup
- **User authentication required** for uploads

## ğŸ“ File Structure
```
backend/
â”œâ”€â”€ uploads/          # User uploaded files (auto-created)
â”‚   â””â”€â”€ avatars/     # Processed avatar images
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ image_utils.py  # Image processing utilities
â”‚   â””â”€â”€ api/routes/
â”‚       â””â”€â”€ auth.py         # Avatar upload endpoint
```

## ğŸš€ Production Deployment
```bash
# For production with external access
npm run dev -- -H 0.0.0.0 -p 3000
uvicorn app.main:app --host 0.0.0.0 --port 8000
```

## ğŸ“‹ TODO
- [ ] Docker image
- [ ] CDN integration for image serving
- [ ] Image compression optimization
- [ ] Backup and recovery system
